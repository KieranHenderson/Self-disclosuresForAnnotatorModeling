[nltk_data] Downloading package punkt to /home/kieranh/nltk_data...
[nltk_data]   Package punkt is already up-to-date!
2025-05-18 12:51:30,529 - INFO - Loading data...
Creating situations maps: 0it [00:00, ?it/s]Creating situations maps: 5722it [00:00, 57209.28it/s]Creating situations maps: 12049it [00:00, 60769.99it/s]Creating situations maps: 18337it [00:00, 61729.25it/s]Creating situations maps: 21209it [00:00, 61364.89it/s]
Creating filtered verdict-authors maps by condition 5: 0it [00:00, ?it/s]Creating filtered verdict-authors maps by condition 5: 5405it [00:00, 54046.57it/s]Creating filtered verdict-authors maps by condition 5: 11154it [00:00, 56070.52it/s]Creating filtered verdict-authors maps by condition 5: 16915it [00:00, 56772.43it/s]Creating filtered verdict-authors maps by condition 5: 22602it [00:00, 56809.21it/s]Creating filtered verdict-authors maps by condition 5: 28327it [00:00, 56967.10it/s]Creating filtered verdict-authors maps by condition 5: 34043it [00:00, 57030.94it/s]Creating filtered verdict-authors maps by condition 5: 39747it [00:00, 56977.74it/s]Creating filtered verdict-authors maps by condition 5: 45445it [00:00, 56737.36it/s]Creating filtered verdict-authors maps by condition 5: 51120it [00:00, 56738.36it/s]Creating filtered verdict-authors maps by condition 5: 56807it [00:01, 56777.21it/s]Creating filtered verdict-authors maps by condition 5: 62485it [00:01, 56729.57it/s]Creating filtered verdict-authors maps by condition 5: 68159it [00:01, 56542.27it/s]Creating filtered verdict-authors maps by condition 5: 73814it [00:01, 56486.12it/s]Creating filtered verdict-authors maps by condition 5: 79463it [00:01, 56423.31it/s]Creating filtered verdict-authors maps by condition 5: 85127it [00:01, 56486.99it/s]Creating filtered verdict-authors maps by condition 5: 90776it [00:01, 56285.65it/s]Creating filtered verdict-authors maps by condition 5: 96405it [00:01, 55843.56it/s]Creating filtered verdict-authors maps by condition 5: 102067it [00:01, 56072.28it/s]Creating filtered verdict-authors maps by condition 5: 107705it [00:01, 56163.25it/s]Creating filtered verdict-authors maps by condition 5: 113350it [00:02, 56247.80it/s]Creating filtered verdict-authors maps by condition 5: 118991it [00:02, 56295.64it/s]Creating filtered verdict-authors maps by condition 5: 124665it [00:02, 56428.38it/s]Creating filtered verdict-authors maps by condition 5: 130349it [00:02, 56549.48it/s]Creating filtered verdict-authors maps by condition 5: 136015it [00:02, 56580.03it/s]Creating filtered verdict-authors maps by condition 5: 141674it [00:02, 56553.69it/s]Creating filtered verdict-authors maps by condition 5: 147330it [00:02, 56518.60it/s]Creating filtered verdict-authors maps by condition 5: 152982it [00:02, 56488.24it/s]Creating filtered verdict-authors maps by condition 5: 158631it [00:02, 56366.15it/s]Creating filtered verdict-authors maps by condition 5: 164268it [00:02, 56329.65it/s]Creating filtered verdict-authors maps by condition 5: 169902it [00:03, 56309.05it/s]Creating filtered verdict-authors maps by condition 5: 175533it [00:03, 55484.42it/s]Creating filtered verdict-authors maps by condition 5: 181104it [00:03, 55548.11it/s]Creating filtered verdict-authors maps by condition 5: 186746it [00:03, 55807.01it/s]Creating filtered verdict-authors maps by condition 5: 192368it [00:03, 55928.15it/s]Creating filtered verdict-authors maps by condition 5: 197995it [00:03, 56028.11it/s]Creating filtered verdict-authors maps by condition 5: 203599it [00:03, 55774.75it/s]Creating filtered verdict-authors maps by condition 5: 209178it [00:03, 55444.89it/s]Creating filtered verdict-authors maps by condition 5: 212687it [00:03, 56239.25it/s]
After filtering, we are left with 12637 authors and 209392 verdicts.
Creating comments maps: 0it [00:00, ?it/s]Creating comments maps: 4409it [00:00, 44084.37it/s]Creating comments maps: 10484it [00:00, 53883.72it/s]Creating comments maps: 16545it [00:00, 56953.05it/s]Creating comments maps: 22490it [00:00, 57937.42it/s]Creating comments maps: 28505it [00:00, 58732.85it/s]Creating comments maps: 34477it [00:00, 59065.65it/s]Creating comments maps: 40406it [00:00, 59136.57it/s]Creating comments maps: 46320it [00:00, 58572.45it/s]Creating comments maps: 52299it [00:00, 58949.73it/s]Creating comments maps: 58257it [00:01, 59141.09it/s]Creating comments maps: 64192it [00:01, 59202.60it/s]Creating comments maps: 70120it [00:01, 59225.68it/s]Creating comments maps: 76043it [00:01, 59206.64it/s]Creating comments maps: 81964it [00:01, 59144.04it/s]Creating comments maps: 87879it [00:01, 59143.56it/s]Creating comments maps: 93794it [00:01, 58297.55it/s]Creating comments maps: 99726it [00:01, 58601.00it/s]Creating comments maps: 105623it [00:01, 58707.91it/s]Creating comments maps: 111526it [00:01, 58803.26it/s]Creating comments maps: 117408it [00:02, 58724.95it/s]Creating comments maps: 123282it [00:02, 58708.71it/s]Creating comments maps: 129154it [00:02, 58616.87it/s]Creating comments maps: 135017it [00:02, 57838.38it/s]Creating comments maps: 140834it [00:02, 57935.24it/s]Creating comments maps: 146645it [00:02, 57986.61it/s]Creating comments maps: 152460it [00:02, 58033.63it/s]Creating comments maps: 158265it [00:02, 57977.90it/s]Creating comments maps: 164064it [00:02, 57845.85it/s]Creating comments maps: 169850it [00:02, 57795.96it/s]Creating comments maps: 175658it [00:03, 57879.98it/s]Creating comments maps: 181447it [00:03, 56100.21it/s]Creating comments maps: 187281it [00:03, 56753.46it/s]Creating comments maps: 193138it [00:03, 57288.35it/s]Creating comments maps: 198947it [00:03, 57523.65it/s]Creating comments maps: 204753it [00:03, 57680.55it/s]Creating comments maps: 210594it [00:03, 57896.89it/s]Creating comments maps: 212687it [00:03, 58069.72it/s]
Removing keywords from verdicts:   0%|          | 0/209392 [00:00<?, ?it/s]Removing keywords from verdicts:   4%|▍         | 8968/209392 [00:00<00:02, 89668.11it/s]Removing keywords from verdicts:   9%|▊         | 18118/209392 [00:00<00:02, 90739.96it/s]Removing keywords from verdicts:  13%|█▎        | 27472/209392 [00:00<00:01, 92017.67it/s]Removing keywords from verdicts:  18%|█▊        | 36674/209392 [00:00<00:01, 91480.92it/s]Removing keywords from verdicts:  22%|██▏       | 45823/209392 [00:00<00:01, 91424.62it/s]Removing keywords from verdicts:  26%|██▋       | 54966/209392 [00:00<00:01, 91091.11it/s]Removing keywords from verdicts:  31%|███       | 64076/209392 [00:00<00:01, 90613.36it/s]Removing keywords from verdicts:  35%|███▍      | 73138/209392 [00:00<00:01, 88795.64it/s]Removing keywords from verdicts:  39%|███▉      | 82142/209392 [00:00<00:01, 89167.79it/s]Removing keywords from verdicts:  43%|████▎     | 91065/209392 [00:01<00:01, 89075.58it/s]Removing keywords from verdicts:  48%|████▊     | 100131/209392 [00:01<00:01, 89551.55it/s]Removing keywords from verdicts:  52%|█████▏    | 109090/209392 [00:01<00:01, 89528.76it/s]Removing keywords from verdicts:  57%|█████▋    | 118506/209392 [00:01<00:00, 90923.83it/s]Removing keywords from verdicts:  61%|██████    | 127601/209392 [00:01<00:00, 89778.82it/s]Removing keywords from verdicts:  65%|██████▌   | 136584/209392 [00:01<00:00, 88948.32it/s]Removing keywords from verdicts:  70%|██████▉   | 145883/209392 [00:01<00:00, 90146.56it/s]Removing keywords from verdicts:  74%|███████▍  | 154917/209392 [00:01<00:00, 90202.88it/s]Removing keywords from verdicts:  78%|███████▊  | 163982/209392 [00:01<00:00, 90328.84it/s]Removing keywords from verdicts:  83%|████████▎ | 173018/209392 [00:01<00:00, 89374.74it/s]Removing keywords from verdicts:  87%|████████▋ | 181959/209392 [00:02<00:00, 88308.28it/s]Removing keywords from verdicts:  91%|█████████▏| 191530/209392 [00:02<00:00, 90488.84it/s]Removing keywords from verdicts:  96%|█████████▌| 200632/209392 [00:02<00:00, 90645.17it/s]Removing keywords from verdicts: 100%|██████████| 209392/209392 [00:02<00:00, 89902.85it/s]
2025-05-18 12:51:42,427 - INFO - Loaded 12637 authors.
Processing json files from directory data/clusters/cluster0/
Reading files:   0%|          | 0/1 [00:00<?, ?it/s]Reading files: 100%|██████████| 1/1 [00:00<00:00, 53.94it/s]
2025-05-18 12:51:46,820 - INFO - Encoding comments...
Encoding:   0%|          | 0/1855 [00:00<?, ?it/s]Encoding:   0%|          | 0/1855 [00:00<?, ?it/s]
Traceback (most recent call last):
  File "/project/6095422/personalization/Self-disclosuresForAnnotatorModeling/./src/precompute_comment_embeddings.py", line 99, in <module>
    for comment_text, comment_id, post_id in comment_list:
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 3)
